!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Swiper=e()}(this,function(){"use strict";function e(){return(e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t}).apply(this,arguments)}function c(e,t){void 0===t&&(t=[]),Array.isArray(t)||(t=[t]),t.forEach(function(t){return!e.classList.contains(t)&&e.classList.add(t)})}function u(e,t){void 0===t&&(t=[]),Array.isArray(t)||(t=[t]),t.forEach(function(t){return e.classList.contains(t)&&e.classList.remove(t)})}function d(t,e){var i,s=getComputedStyle(t).transform.replace(/[a-z]|\(|\)|\s/g,"").split(",").map(parseFloat);return 16===s.length?i=s.slice(12,14):6===s.length&&(i=s.slice(4,6)),i[e?0:1]||0}var n=["INPUT","SELECT","OPTION","TEXTAREA","BUTTON","VIDEO"];return function(){function s(t,e){e=s.formatConfig(e),this.index=0,this.scrolling=!1,this.config=e,this.supportTouch=Boolean("ontouchstart"in window||0<window.navigator.maxTouchPoints||0<window.navigator.msMaxTouchPoints||window.DocumentTouch&&document instanceof DocumentTouch),"string"==typeof t&&(t=document.body.querySelector(t)),this.$el=t,this.$wrapper=t.querySelector("."+e.wrapperClass),this.eventHub={},this.initPlugins(e.plugins),this.emit("before-init",this),this.initListener(),this.initTouchStatus(),this.initWheelStatus(),this.update(),this.attachListener(),this.emit("after-init",this),this.scroll(e.initialSlide)}var t=s.prototype;return t.initPlugins=function(t){var e=this;(t||[]).forEach(function(t){return t(e)})},t.on=function(t,e){var i=this.eventHub;i[t]?i[t].push(e):i[t]=[e]},t.off=function(t,e){var i=this.eventHub;if(i[t]){var s=i[t].indexOf(e);-1<s&&i[t].splice(s,1)}},t.emit=function(t){for(var e=arguments.length,i=new Array(1<e?e-1:0),s=1;s<e;s++)i[s-1]=arguments[s];var n=this.eventHub;n[t]&&n[t].forEach(function(t){return t.apply(void 0,i)})},t.initListener=function(){var a=this,r=this.$wrapper,h=this.config,l=this.supportTouch;this.listeners={handleTouchStart:function(t){for(var e=0;e<h.excludeElements.length;e++)if(h.excludeElements[e].contains(t.target))return;a.initTouchStatus();var i=a.touchStatus,s=h.touchStartPreventDefault&&-1===n.indexOf(t.target.nodeName)||h.touchStartForcePreventDefault;i.startOffset=d(r,a.isHorizontal),a.transform(i.startOffset),r.style.transition="none",i.isTouchStart=!0,i.touchStartTime=Date.now(),i.touchTracks.push({x:l?t.touches[0].pageX:t.pageX,y:l?t.touches[0].pageY:t.pageY}),s&&!h.passiveListeners&&t.preventDefault()},handleTouchMove:function(t){var e=a.touchStatus,i=e.touchTracks;if(e.isTouchStart&&!e.isScrolling){h.touchMoveStopPropagation&&t.stopPropagation();var s={x:l?t.touches[0].pageX:t.pageX,y:l?t.touches[0].pageY:t.pageY},n={x:s.x-i[i.length-1].x,y:s.y-i[i.length-1].y};i.push(s);var o=180*Math.atan2(Math.abs(n.y),Math.abs(n.x))/Math.PI,r=0;a.isHorizontal?o<h.touchAngle||e.isTouching?(e.isTouching=!0,r=n.x,t.preventDefault()):e.isScrolling=!0:90-o<h.touchAngle||e.isTouching?(e.isTouching=!0,r=n.y,t.preventDefault()):e.isScrolling=!0,a.scrollPixel(r*h.touchRatio)}},handleTouchEnd:function(t){if(a.touchStatus.isTouchStart){var e=a.index,i=a.slideSize,s=a.touchStatus,n=Date.now()-s.touchStartTime,o=d(r,a.isHorizontal)-s.startOffset;r.style.transition="transform ease "+h.speed+"ms",n>a.config.longSwipesMs?Math.abs(o)>=i*h.longSwipesRatio?a.scroll(0<o?e-1:e+1,!0):a.scroll(e,!0):0==o?a.scroll(e,!0):a.scroll(0<o?e-1:e+1,!0),a.initTouchStatus()}},handleWheel:function(t){var e=a.index,i=a.wheelStatus,s=t.deltaY;(0<Math.abs(s)-Math.abs(i.wheelDelta)||!i.wheeling)&&Math.abs(s)>=h.mousewheel.sensitivity&&a.scroll(0<s?e-1:e+1),i.wheelDelta=s,clearTimeout(i.wheelingTimer),i.wheeling=!0,i.wheelingTimer=setTimeout(function(){a.initWheelStatus()},200),t.preventDefault(),t.stopPropagation()}}},t.attachListener=function(){var t=this.$el,e=this.config,i=this.supportTouch,s=this.listeners,n=s.handleTouchStart,o=s.handleTouchMove,r=s.handleTouchEnd,a=s.handleWheel;i?(t.addEventListener("touchstart",n,{passive:e.passiveListeners,capture:!1},!1),t.addEventListener("touchmove",o),t.addEventListener("touchend",r),t.addEventListener("touchcancel",r)):(t.addEventListener("mousedown",n),document.addEventListener("mousemove",o),document.addEventListener("mouseup",r)),e.mousewheel&&t.addEventListener("wheel",a)},t.detachListener=function(){var t=this.$el,e=this.listeners,i=e.handleTouchStart,s=e.handleTouchMove,n=e.handleTouchEnd,o=e.handleWheel;t.removeEventListener("touchstart",i),t.removeEventListener("touchmove",s),t.removeEventListener("touchend",n),t.removeEventListener("touchcancel",n),t.removeEventListener("mousedown",i),document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",n),t.removeEventListener("wheel",o)},s.formatConfig=function(t){void 0===t&&(t={});return t.mousewheel&&(t.mousewheel=e({invert:!1,sensitivity:1},t.mousewheel)),e({},{direction:"horizontal",touchRatio:1,touchAngle:45,longSwipesRatio:.5,initialSlide:0,loop:!1,mousewheel:!1,pagination:!1,passiveListeners:!0,resistance:!0,resistanceRatio:.85,speed:300,longSwipesMs:300,intermittent:0,spaceBetween:0,slidePrevClass:"swiper-slide-prev",slideNextClass:"swiper-slide-next",slideActiveClass:"swiper-slide-active",slideClass:"swiper-slide",wrapperClass:"swiper-wrapper",touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchMoveStopPropagation:!1,excludeElements:[]},{},t)},t.transform=function(t){this.$wrapper.style.transform=this.isHorizontal?"translate3d("+t+"px, 0, 0)":"translate3d(0, "+t+"px, 0)"},t.scroll=function(t,e){var i=this;if(void 0===t&&(t=0),void 0===e&&(e=!1),!this.scrolling||e){this.emit("before-slide",this.index,this);var s=this.config,n=this.minIndex,o=this.maxIndex,r=(t=t<n?n:o<t?o:t)*this.boxSize;this.scrolling=!0,this.transform(-r);var a=this.$list[t],h=this.$list[t-1],l=this.$list[t+1];a&&(c(a,s.slideActiveClass),u(a,[s.slidePrevClass,s.slideNextClass])),h&&(c(h,s.slidePrevClass),u(h,[s.slideActiveClass,s.slideNextClass])),l&&(c(l,s.slideNextClass),u(l,[s.slideActiveClass,s.slidePrevClass])),this.index=t,setTimeout(function(){i.scrolling=!1,i.emit("after-slide",t,i)},this.config.speed+this.config.intermittent)}},t.scrollPixel=function(t){var e=t.toExponential().split("e")[1],i=e<=0?Math.pow(10,-(e-1)):1;this.config.resistance&&(0<t&&0===this.index?t-=Math.pow(t*i,this.config.resistanceRatio)/i:t<0&&this.index===this.maxIndex&&(t+=Math.pow(-t*i,this.config.resistanceRatio)/i));var s=d(this.$wrapper,this.isHorizontal);this.transform(s+t)},t.initTouchStatus=function(){this.touchStatus={touchTracks:[],startOffset:0,touchStartTime:0,isTouchStart:!1,isScrolling:!1,isTouching:!1}},t.initWheelStatus=function(){this.wheelStatus={wheeling:!1,wheelDelta:0,wheelingTimer:!1}},t.update=function(){var e=this,t=this.$el,i=this.$wrapper,s=this.index,n=this.config,o=i.style,r="horizontal"===n.direction;this.isHorizontal=r,this.$list=[].slice.call(t.getElementsByClassName(n.slideClass)),this.minIndex=0,this.maxIndex=this.$list.length-1,this.slideSize=r?t.offsetWidth:t.offsetHeight,this.boxSize=this.slideSize+n.spaceBetween,this.$list.forEach(function(t){t.style[r?"width":"height"]=e.slideSize+"px",t.style[r?"margin-right":"margin-bottom"]=n.spaceBetween+"px"}),t.style.overflow="hidden",o.willChange="transform",o.transition="transform ease "+this.config.speed+"ms",o[r?"width":"height"]=this.boxSize*this.$list.length+"px",o.display="flex",o.flexDirection=r?"row":"column",this.transform(-s*this.boxSize)},t.destroy=function(){var t=this.$el,e=this.$wrapper,i=this.config.slideActiveClass;this.emit("before-destroy",this),this.$list.forEach(function(t){t.removeAttribute("style"),u(t,[i])}),e.removeAttribute("style"),t.removeAttribute("style"),this.detachListener(),this.emit("after-destroy",this),this.$el=null,this.$list=[],this.$wrapper=null,this.eventHub={},this.config=s.formatConfig()},s}()});
